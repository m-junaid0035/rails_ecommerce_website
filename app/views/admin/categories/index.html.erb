<% content_for :title, "Categories" %>

<div class="flex-1 p-6">
  <% if notice.present? %>
    <p id="notice" class="py-2 px-4 mb-6 bg-green-50 text-green-600 font-semibold rounded-md inline-block">
      <%= notice %>
    </p>
  <% end %>

  <div class="flex justify-between items-center mb-6">
    <h1 class="text-4xl font-extrabold text-gray-900">Categories</h1>
    <%= link_to "New category", new_admin_category_path, class: "rounded-md px-4 py-2.5 bg-blue-600 hover:bg-blue-500 text-white font-semibold shadow-sm" %>
  </div>

  <div class="overflow-x-auto rounded-lg border border-gray-200">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Image</th>
          <th scope="col" class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Name</th>
          <th scope="col" class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Description</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <% @admin_categories.each do |category| %>
          <tr class="hover:bg-gray-50">
            <td class="px-6 py-4 whitespace-nowrap">
              <% if category.image.attached? %>
                <%= image_tag category.image.variant(resize_to_limit: [48, 48]), class: "rounded w-12 h-12 object-contain" %>
              <% else %>
                <%= image_tag "https://via.placeholder.com/48", class: "rounded w-12 h-12 object-contain" %>
              <% end %>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <%= link_to category.name, edit_admin_category_path(category), class: "text-blue-600 hover:underline font-medium" %>
            </td>
            <td class="px-6 py-4 text-sm text-gray-700">
              <%= category.description.presence || "-" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
