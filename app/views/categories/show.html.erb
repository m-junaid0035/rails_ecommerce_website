<h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Category Show Page</h1>

<div class="min-h-screen flex flex-col lg:flex-row justify-center gap-12 px-6 max-w-7xl mx-auto">

  <!-- Filter Sidebar -->
  <aside class="w-full lg:w-72 flex-shrink-0 bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold text-gray-800 mb-4">Filter</h2>

    <%= form_with url: category_path(@category), method: :get, class: "flex flex-col" do |form| %>
      <%= form.number_field :min, placeholder: "Min Price", class: "border border-gray-800 rounded-md p-2 mb-3 w-full" %>
      <%= form.number_field :max, placeholder: "Max Price", class: "border border-gray-800 rounded-md p-2 mb-4 w-full" %>
      <%= form.submit "Filter", class: "bg-gray-800 text-white rounded-md p-2 cursor-pointer hover:bg-gray-900 transition" %>
    <% end %>

    <%= form_with url: category_path(@category), method: :get, class: "mt-4" do |form| %>
      <%= form.submit "Clear", class: "bg-gray-600 text-white rounded-md p-2 cursor-pointer hover:bg-gray-700 transition w-full" %>
    <% end %>
  </aside>

  <!-- Products Grid -->
  <main class="flex-grow grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-10 justify-items-center">
    <% if @products.empty? %>
      <p class="text-2xl text-gray-800 col-span-full text-center">No products found</p>
    <% else %>
      <% @products.each do |product| %>
        <%= link_to product_path(product), class: "block max-w-xs bg-white rounded-lg shadow-md hover:shadow-lg transition p-4 text-center" do %>
          <% image = product.images.first ? product.images.first.variant(:medium) : "http://via.placeholder.com/250" %>
          <%= image_tag image, class: "rounded w-full h-48 object-cover mb-4" %>
          <p class="font-medium text-gray-800"><%= product.name %></p>
        <% end %>
      <% end %>
    <% end %>
  </main>

</div>
